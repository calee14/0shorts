(()=>{"use strict";({136:function(e,t){var o=this&&this.__awaiter||function(e,t,o,c){return new(o||(o=Promise))((function(n,r){function i(e){try{l(c.next(e))}catch(e){r(e)}}function a(e){try{l(c.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,a)}l((c=c.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),console.log("background.ts"),chrome.declarativeNetRequest.onRuleMatchedDebug.addListener((e=>{const t=`Navigation blocked to ${e.request.url} on tab ${e.request.tabId}.`;console.log(t)})),chrome.runtime.onMessage.addListener((function(e,t,o){console.log(t.tab?"from a content script:"+t.tab.url:"from the extension"),"hello"===e.greeting&&o({farewell:"goodbye"})})),chrome.runtime.onInstalled.addListener((e=>o(void 0,void 0,void 0,(function*(){if("install"===e.reason){yield chrome.storage.local.set({blockedUrls:{"||facebook.com":!0,"||instagram.com":!0,"||tikok.com":!0,"||twitter.com":!0,"||youtube.com":!0,"||tumblr.com":!0,"||netflix.com":!0,"||max.com":!0}});const e=(yield chrome.storage.local.get("blockedUrls")).blockedUrls,o=[];var t=0;Object.keys(e).forEach((e=>{const c={id:100+t,priority:1,action:{type:"redirect",redirect:{url:"https://google.com"}},condition:{urlFilter:e,resourceTypes:["main_frame"]}};t+=1,o.push(c)}));const c={removeRuleIds:(yield chrome.declarativeNetRequest.getDynamicRules()).map((e=>e.id)),addRules:o};yield chrome.declarativeNetRequest.updateDynamicRules(c)}}))))}})[136](0,{})})();