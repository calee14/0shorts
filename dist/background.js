(()=>{"use strict";({136:function(e,t){var o=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(c,r){function i(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?c(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),console.log("background.ts"),chrome.declarativeNetRequest.onRuleMatchedDebug.addListener((e=>{const t=`Navigation blocked to ${e.request.url} on tab ${e.request.tabId}.`;console.log(t)})),chrome.runtime.onMessage.addListener((function(e,t,o){console.log(t.tab?"from a content script:"+t.tab.url:"from the extension"),"hello"===e.greeting&&o({farewell:"goodbye"})})),chrome.runtime.onInstalled.addListener((e=>o(void 0,void 0,void 0,(function*(){if("install"===e.reason){yield chrome.storage.local.set({blockedUrls:["||facebook.com","||instagram.com","||tikok.com","||twitter.com","||youtube.com","||tumblr.com","||netflix.com","||max.com"],unblockedUrls:[]});const e=(yield chrome.storage.local.get("blockedUrls")).blockedUrls,o=[];var t=0;e.forEach((e=>{const n={id:100+t,priority:1,action:{type:"redirect",redirect:{url:"https://google.com"}},condition:{urlFilter:e,resourceTypes:["main_frame"]}};t+=1,o.push(n)}));const n={removeRuleIds:(yield chrome.declarativeNetRequest.getDynamicRules()).map((e=>e.id)),addRules:o};yield chrome.declarativeNetRequest.updateDynamicRules(n)}}))))}})[136](0,{})})();